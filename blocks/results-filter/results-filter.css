.results-filter {
	@media (width >=1024px) {
		margin-top: -100px;
	}

	.results-filter-container {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-m);
		max-width: var(--site-max-width);
		margin: 0 auto;
		padding: var(--spacing-s);
		background: var(--white);
		position: relative;
		z-index: var(--z-index-above);
	}

	.results-filter-dropdown {
		display: flex;
		flex-direction: column;
	}

	.results-filter-select {
		display: none;
	}

	.custom-select {
		position: relative;
		display: inline-block;
		min-width: 100%;
	}

	.custom-select-trigger {
		display: inline-flex;
		align-items: center;
		justify-content: space-between;
		gap: var(--spacing-xxs);
		width: 100%;
		padding: var(--spacing-s) var(--spacing-xs);
		border: 2px solid var(--light-gray);
		border-radius: var(--spacing-xxxs);
		background: var(--background-color);
		color: var(--text-color);
		font-size: var(--body-font-size-s);
		font-family: inherit;
		cursor: pointer;
		user-select: none;
		margin: 0;
		transition: border-color 0.2s ease, box-shadow 0.2s ease;

		&:focus {
			outline: none;
			border-color: var(--link-color);
			box-shadow: 0 0 0 3px rgb(6 192 255 / 10%);
		}

		&:hover {
			border-color: var(--link-color);
		}
	}

	.custom-select-text {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-xxxxs);
		text-align: left;
		flex: 1;
	}

	.custom-select-title {
		font-weight: 600;
		font-size: var(--body-font-size-xs);
		color: var(--text-color);
	}

	.custom-select-summary {
		font-weight: 400;
		font-size: var(--body-font-size-m);
		color: var(--text-color);
	}

	.custom-select-caret {
		font-size: var(--icon-size-s);
		color: var(--text-color);
		transition: transform 0.2s ease;
	}

	.custom-select.open .custom-select-caret {
		transform: rotate(180deg);
	}

	.custom-select-menu {
		position: absolute;
		top: calc(100% + var(--spacing-xxxxs));
		left: 0;
		z-index: var(--z-index-tooltip);
		background: var(--background-color);
		border: 2px solid var(--light-gray);
		border-radius: var(--spacing-xxxs);
		box-shadow: 0 6px 16px rgba(0 0 0 / 12%);
		padding: var(--spacing-xxs);
		min-width: 100%;
		max-height: 200px;
		overflow: auto;
		display: none;
		scrollbar-width: thin;
		scrollbar-color: var(--light-gray) transparent;
		scrollbar-gutter: stable;
		width: max-content;
	}

	.custom-select.open .custom-select-menu {
		display: block;
	}

	.custom-select-option {
		display: flex;
		align-items: center;
		gap: var(--spacing-xxs);
		padding: var(--spacing-xxs) var(--spacing-xs);
		cursor: pointer;
		border-radius: var(--spacing-xxxs);
		transition: background-color 0.2s ease;

		&:hover,
		&:focus {
			background: var(--light-gray-2);
      outline: 1px solid var(--light-gray);
      outline-offset: -2px;
		}

		&.selected {
			background: var(--link-color);
			color: var(--white);
		}

		&.selected:hover,
		&.selected:focus {
			background: var(--link-hover-color);
			outline: 2px solid var(--white);
			outline-offset: -2px;
		}
	}

	.results-filter-button {
		width: 100%;
		padding: var(--spacing-s) var(--spacing-l);
		background: var(--link-color);
		color: var(--white);
		border: none;
		border-radius: var(--spacing-xxxs);
		font-size: var(--body-font-size-m);
		font-weight: 600;
		cursor: pointer;
		margin-top: var(--spacing-s);

		&:disabled {
			background: var(--light-gray);
			color: var(--text-color);
			cursor: not-allowed;
			opacity: 0.6;
			transform: none;
			margin-top: 0;
		}

		&.disabled {
			background: var(--light-gray);
			color: var(--text-color);
			cursor: not-allowed;
			opacity: 0.6;
		}
	}

	@media (width >=1024px) {
		.results-filter-container {
			flex-direction: row;
			align-items: center;
			gap: var(--spacing-m);
			max-width: calc(var(--site-max-width) - var(--spacing-xxxxl));
			margin: 0 auto;
			padding: var(--spacing-m);
			border-top-left-radius: var(--spacing-xxxs);
			border-top-right-radius: var(--spacing-xxxs);
		}

		.results-filter-dropdown {
			flex: 1;
		}

		.custom-select-trigger {
			padding: var(--spacing-xxs) var(--spacing-s);
			font-size: var(--body-font-size-m);
		}

		.custom-select-title {
			font-size: var(--body-font-size-s);
		}

		.custom-select-summary {
			font-size: var(--body-font-size-m);
		}

		.results-filter-button {
			flex: 0 0 auto;
			width: auto;
			min-width: 140px;
			margin: 0;
			padding: var(--spacing-s) var(--spacing-m);
			font-size: var(--body-font-size-l);
		}
	}

	&.loading {
		.results-filter-container {
			opacity: 0.6;
			pointer-events: none;
		}

		&::after {
			content: 'Loading...';
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			font-size: var(--body-font-size-m);
			color: var(--text-color);
		}
	}

	&.error {
		.results-filter-container {
			border: 2px solid var(--error);
			background: rgb(220 53 69 / 5%);
		}
	}
}